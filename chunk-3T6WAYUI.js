import{a as z}from"./chunk-ASKQMJYF.js";import{b as L}from"./chunk-3TOK5YK3.js";import{a as k}from"./chunk-M6UWFHQV.js";import{c,d as B,e as F,g as N,h as I,i as j,m as T,o as q}from"./chunk-L5UFCLKC.js";import{b as O,c as E,e as S}from"./chunk-R2LU7DUE.js";import{C as d,Ca as g,Da as _,Ea as h,F as f,K as u,Oa as r,Pa as o,S as n,W as x,Za as w,ba as v,ca as C,eb as P,fb as y,ha as p,ia as i,ja as a,ka as m,qa as b,sa as M}from"./chunk-DB7Y4EIF.js";function G(s,e){if(s&1&&(i(0,"div",15),f(),i(1,"svg",19),m(2,"circle",20)(3,"line",21)(4,"line",22),a(),g(5),a()),s&2){let l=M();n(5),h(" ",l.errorMessage()," ")}}var D=class s{fb=d(T);authService=d(L);router=d(P);translate=d(O);loginForm=this.fb.nonNullable.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]]});isLoading=u(!1);errorMessage=u("");getEmailError(){let e=this.loginForm.controls.email;return e.touched&&e.hasError("required")?this.translate.instant("auth.emailRequired"):e.touched&&e.hasError("email")?this.translate.instant("auth.emailInvalid"):""}getPasswordError(){let e=this.loginForm.controls.password;return e.touched&&e.hasError("required")?this.translate.instant("auth.passwordRequired"):e.touched&&e.hasError("minlength")?this.translate.instant("auth.passwordMin"):""}emailError(){return this.getEmailError()}passwordError(){return this.getPasswordError()}async onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.isLoading.set(!0),this.errorMessage.set("");let{email:e,password:l}=this.loginForm.getRawValue();try{let{error:t}=await this.authService.signIn(e,l);if(t)throw t;this.router.navigate(["/"])}catch(t){this.errorMessage.set(t.message||this.translate.instant("auth.loginError"))}finally{this.isLoading.set(!1)}}static \u0275fac=function(l){return new(l||s)};static \u0275cmp=x({type:s,selectors:[["app-login"]],decls:34,vars:32,consts:[[1,"login"],[1,"login__container"],[1,"login__card"],[1,"login__content"],[1,"login__left"],[1,"login__illustration"],["src","animal-login.png","alt","Login Graphic",1,"login__image"],[1,"login__right"],[1,"login__header"],[1,"login__title"],[1,"login__subtitle"],[1,"login__form",3,"ngSubmit","formGroup"],[1,"login__fields"],["formControlName","email","type","email",3,"label","placeholder","error"],["formControlName","password","type","password",3,"label","placeholder","error"],[1,"login__error"],["type","submit","variant","primary","size","lg",1,"w-full",3,"loading"],[1,"login__footer"],["routerLink","/register"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"]],template:function(l,t){l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),m(6,"img",6),a()(),i(7,"div",7)(8,"div",8)(9,"h1",9),g(10),r(11,"translate"),a(),i(12,"p",10),g(13),r(14,"translate"),a()(),i(15,"form",11),b("ngSubmit",function(){return t.onSubmit()}),i(16,"div",12),m(17,"app-input",13),r(18,"translate"),r(19,"translate"),m(20,"app-input",14),r(21,"translate"),r(22,"translate"),a(),v(23,G,6,1,"div",15),i(24,"app-button",16),g(25),r(26,"translate"),a()(),i(27,"div",17)(28,"p"),g(29),r(30,"translate"),i(31,"a",18),g(32),r(33,"translate"),a()()()()()()()()),l&2&&(n(10),_(o(11,14,"auth.loginTitle")),n(3),_(o(14,16,"auth.loginSubtitle")),n(2),p("formGroup",t.loginForm),n(2),p("label",o(18,18,"auth.email"))("placeholder",o(19,20,"auth.emailPlaceholder"))("error",t.emailError()),n(3),p("label",o(21,22,"auth.password"))("placeholder",o(22,24,"auth.passwordPlaceholder"))("error",t.passwordError()),n(3),C(t.errorMessage()?23:-1),n(),p("loading",t.isLoading()),n(),h(" ",o(26,26,t.isLoading()?"auth.loggingIn":"auth.loginBtn")," "),n(4),h(" ",o(30,28,"auth.noAccount")," "),n(3),_(o(33,30,"auth.registerLink")))},dependencies:[w,q,N,B,F,j,I,y,z,k,S,E],styles:['.login[_ngcontent-%COMP%]{display:flex;min-height:90vh;align-items:center;justify-content:center;padding:5rem 1rem}@media(min-width:768px){.login[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}}@media(min-width:1024px){.login[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}.login__container[_ngcontent-%COMP%]{width:100%;max-width:32rem}@media(min-width:1024px){.login__container[_ngcontent-%COMP%]{max-width:56rem}}.login__card[_ngcontent-%COMP%]{background-color:hsl(var(--card)/.95);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.1);border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;overflow:hidden;box-shadow:0 0 0 1px #ffffff0d,0 25px 50px -12px #00000040}.login__accent-bar[_ngcontent-%COMP%]{height:.5rem;background:linear-gradient(to right,#10b981,#14b8a6,#06b6d4)}.login__content[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;gap:2rem}@media(min-width:1024px){.login__content[_ngcontent-%COMP%]{flex-direction:row;padding:0;gap:0;min-height:500px}}.login__left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at center,hsl(var(--primary)/.15) 0%,transparent 70%);padding:2rem}@media(min-width:1024px){.login__left[_ngcontent-%COMP%]{flex:1.1;border-right:1px solid rgba(255,255,255,.05);padding:3rem}}.login__illustration[_ngcontent-%COMP%]{width:100%;max-width:180px;aspect-ratio:1;position:relative}@media(min-width:1024px){.login__illustration[_ngcontent-%COMP%]{max-width:260px}}.login__illustration[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-20px;background:radial-gradient(circle,hsl(var(--primary)/.2) 0%,transparent 70%);z-index:-1;filter:blur(20px)}.login__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 0 30px hsl(var(--primary)/.2));transition:transform .3s ease}.login__image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.login__right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:1rem}@media(min-width:1024px){.login__right[_ngcontent-%COMP%]{flex:1;padding:3rem}}.login__header[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:1rem}.login__logo[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:8rem;height:8rem;display:flex;align-items:center;justify-content:center;margin-bottom:1rem;transition:transform .5s}.login__logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.login__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;filter:drop-shadow(0 25px 25px rgba(0,0,0,.15))}.login__title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;letter-spacing:-.025em;color:hsl(var(--foreground));margin:0}.login__subtitle[_ngcontent-%COMP%]{font-size:1rem;color:hsl(var(--muted-foreground));margin-top:.5rem}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.login__fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.login__error[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem;color:#fecaca;background-color:#7f1d1d33;border-radius:.75rem;border:1px solid rgba(239,68,68,.2);display:flex;align-items:center;gap:.75rem}.login__divider[_ngcontent-%COMP%]{position:relative;padding-top:.5rem;padding-bottom:.5rem}.login__divider-line[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center}.login__divider-line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;border-top:1px solid rgba(255,255,255,.1)}.login__footer[_ngcontent-%COMP%]{margin-top:2rem;text-align:center;font-size:.875rem;color:hsl(var(--muted-foreground))}.login__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:hsl(var(--primary));transition:all .2s;cursor:pointer}.login__footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;filter:brightness(1.2)}.login__loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.login__loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;height:1.25rem;width:1.25rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};export{D as LoginComponent};
