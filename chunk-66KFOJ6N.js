import{a as s}from"./chunk-A7VTSCNG.js";import{C as a,K as n,bb as l,m as r,y as i}from"./chunk-NQGW4V7S.js";var c=class o{STORAGE_KEY="tc_unlocked";http=a(l);API_URL=s.mmoUrl;unlockedSignal=n(!1);isUnlocked=this.unlockedSignal.asReadonly();constructor(){this.checkInitialState()}checkInitialState(){let e=localStorage.getItem(this.STORAGE_KEY)==="true";this.unlockedSignal.set(e)}async validateKey(e){try{return(await r(this.http.post(`${this.API_URL}/verify-access`,{key:e}))).valid?(this.unlock(),!0):!1}catch(t){return console.error("Access verification failed:",t),!1}}unlock(){localStorage.setItem(this.STORAGE_KEY,"true"),this.unlockedSignal.set(!0)}lock(){localStorage.removeItem(this.STORAGE_KEY),this.unlockedSignal.set(!1)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};
